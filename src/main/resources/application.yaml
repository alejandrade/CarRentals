aws:
  region: us-east-2
  s3:
    bucket: carrentaluserfiles
spring:

  profiles:
    active: dev
  datasource:
    url: jdbc:mysql://127.0.0.1:3306/car_rentals
    username: root
    driver-class-name: com.mysql.cj.jdbc.Driver
  jpa:
    show-sql: true
    hibernate:
      ddl-auto: validate
  flyway:
    enabled: false
  cache:
    type: redis
  data:
    redis:
      host: localhost
      port: 6379
  devtools:
    restart:
      enabled: true
      poll-interval: 5s
      additional-paths: static/stc
server:
  error:
    whitelabel:
      enabled: false
    include-message: always
    include-binding-errors: always
    include-stacktrace: on_param
    include-exception: true

comms:
  twilio:
    debug: true

stripe:
  checkout-url-success: http://localhost:3000/checkout-success
  checkout-url-cancel: http://localhost:3000/checkout-cancel


## Circuit Breaker

resilience4j:
  circuitbreaker:
    configs:
      default:
        waitDurationInOpenState: 10s
        failureRateThreshold: 50
        eventConsumerBufferSize: 10
        registerHealthIndicator: true
    instances:
      twilioVerifyApi:
        baseConfig: default
      twilioStartVerificationApi:
        baseConfig: default

  ratelimiter:
    configs:
      default:
        limitForPeriod: 10
        limitRefreshPeriod: 1s
        timeoutDuration: 0s
    instances:
      twilioVerifyApi:
        baseConfig: default
      twilioStartVerificationApi:
        baseConfig: default

  retry:
    configs:
      default:
        max-attempts: 3
        waitDuration: 2s
    instances:
      twilioVerifyApi:
        baseConfig: default
      twilioStartVerificationApi:
        baseConfig: default

  bulkhead:
    configs:
      default:
        maxConcurrentCalls: 20
        maxWaitDuration: 500ms
    instances:
      twilioVerifyApi:
        baseConfig: default
      twilioStartVerificationApi:
        baseConfig: default
# ------

